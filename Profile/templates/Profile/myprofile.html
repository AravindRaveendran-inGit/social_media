{% extends 'layout.html' %}

{% block title %}
my profile
{% endblock title %}

{% block content %}
<!-- Button trigger modal -->

    <div class="container">
        <div class="main-body">

            <!-- Breadcrumb -->

            <!-- /Breadcrumb -->

            <div class="row gutters-sm">
                <div class="col-md-4 mb-3">
                    <div class="card">
                        <div class="card-body">
                            {% if confirm%}
                            <div class="alert alert-success">
                              <strong>Successfully updated</strong>
                            </div>
                            {% endif %}
                            <div class="d-flex flex-column align-items-center text-center">
                                <img src="{{profile.profile_pic.url}}" alt="Admin"
                                    class="rounded-circle" width="150">
                                <div class="mt-3">
                                    <h4>{{request.user}}</h4>
                                  <p class="text-secondary mb-1"><b>{{profile.email}}</b></p>
                                    <p class="text-muted font-size-sm"><b>{{profile.bio}}</b></p>
                                    <button data-target="#form-dialog" data-toggle="modal" class="btn pmd-ripple-effect btn-primary pmd-btn-raised" type="button">Update</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="card mb-3">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-lg-3">
                                    <h6 class="mb-0">Name</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    <b>{{profile.first_name}}</b>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Bio</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                  <b>  {{profile.bio}}</b>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Followers</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                 <b>   {{profile.get_friends_no}}</b>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Total Posts</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                  <b>  {{profile.get_total_post}}</b>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Liked Posts</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                   <b> {{profile.total_likes}}</b>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row gutters-sm">

                    </div>
                </div>
            </div>
        </div>
    </div>
    <div tabindex="-1" class="modal pmd-modal fade" id="form-dialog" style="display: none;" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header pmd-modal-border">
                    <b><p style="text-align:left font-size:25px ;">{{profile.first_name}}&nbsp{{profile.last_name}}</p></b>
                     <img src="{{profile.profile_pic.url}}" alt="Admin" class="rounded-circle" width="140">
<!--                    <button aria-hidden="true" data-dismiss="modal" class="close" type="button"><i class="material-icons fa fa-search">&#xE8B6;</i></button>-->
                </div>
                <div class="modal-body">

                        <form class="profileFrm" action="" method="POST" enctype="multipart/form-data">
                            {% csrf_token%}
                            <div class="form-group pmd-textfield pmd-textfield-floating-label">
                         <b> {{form.as_p}}</b>
                        </div>


                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button type="submit" class="btn btn-primary">Update</button>
                </div>
              </form>
            </div>
        </div>
    </div>

  {% endblock content %}
